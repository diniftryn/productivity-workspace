{"ast":null,"code":"var _jsxFileName = \"/Users/dini/Desktop/productivity-workspace/frontend/src/components/PomodoroTimer.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport \"./css/PomodoroTimer.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PomodoroTimer() {\n  _s();\n  const [sessionLength, setSessionLength] = useState(1500);\n  const [breakLength, setBreakLength] = useState(300);\n  const [timer, setTimer] = useState(1500);\n  const [timerMinutes, setTimerMinutes] = useState(\"00\");\n  const [timerSeconds, setTimerSeconds] = useState(\"00\");\n  const [timerIntervalId, setTimerIntervalId] = useState(null);\n  const [isSession, setIsSession] = useState(false);\n  const [sessionType, setSessionType] = useState(\"Session\");\n  const audioRef = useRef();\n  const audioRefClick = useRef();\n  let hasStarted = timerIntervalId !== null; // check timer state\n\n  // // update timer display\n  useEffect(() => {\n    if (timer === 0) {\n      audioRef.current.play();\n      if (sessionType === \"Session\") {\n        setSessionType(\"Break\");\n        setTimer(breakLength);\n      } else {\n        setSessionType(\"Session\");\n        setTimer(sessionLength);\n      }\n    }\n  }, [timer, sessionType]);\n  useEffect(() => {\n    setTimer(sessionLength);\n  }, [sessionLength]);\n  useEffect(() => {\n    let time = secondsToTime(timer);\n    setTimerMinutes(time[0]);\n    setTimerSeconds(time[1]);\n  }, [timer]);\n  function toggleCountDown() {\n    if (hasStarted) {\n      // started mode\n      if (timerIntervalId) {\n        clearInterval(timerIntervalId);\n      }\n      setTimerIntervalId(null);\n    } else {\n      // stopped mode\n      // create accurate date timer with date\n      const newIntervalId = setInterval(() => {\n        setTimer(prevTime => {\n          let newTime = prevTime - 1;\n          let time = secondsToTime(newTime);\n          setTimerMinutes(time[0]);\n          setTimerSeconds(time[1]);\n          return newTime;\n        });\n      }, 1000);\n      setTimerIntervalId(newIntervalId);\n    }\n  }\n\n  // return minutes and seconds of seconds\n  function secondsToTime(seconds) {\n    return [Math.floor(seconds / 60), seconds % 60];\n  }\n\n  // zero paddings if < 10\n  function formatDisplayTime(time) {\n    if (time < 10) {\n      return `0${time}`;\n    } else {\n      return time;\n    }\n  }\n  function handleBreakLengthChange(e) {\n    if (hasStarted) return; // guard against change when running\n\n    if (e.target.id === \"break-decrement\" && breakLength > 60) {\n      setBreakLength(prevVal => prevVal - 60);\n    } else if (e.target.id === \"break-increment\" && breakLength < 3600) {\n      setBreakLength(prevVal => prevVal + 60);\n    }\n  }\n  function handleSessionLengthChange(e) {\n    if (hasStarted) return; // guard against change when running\n\n    if (e.target.id === \"session-decrement\" && sessionLength > 60) {\n      setSessionLength(prevVal => prevVal - 60);\n    } else if (e.target.id === \"session-increment\" && sessionLength < 3600) {\n      setSessionLength(prevVal => prevVal + 60);\n    }\n  }\n  function handleResetTimer() {\n    var _audioRef$current;\n    audioRef === null || audioRef === void 0 ? void 0 : (_audioRef$current = audioRef.current) === null || _audioRef$current === void 0 ? void 0 : _audioRef$current.load();\n    if (timerIntervalId) {\n      clearInterval(timerIntervalId);\n    }\n    setTimerIntervalId(null);\n    setSessionLength(1500);\n    setBreakLength(300);\n    setSessionType(\"Session\");\n    setTimer(1500);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Pomodoro\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Pomodoro Timer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"time-left\",\n        children: [formatDisplayTime(timerMinutes), \":\", formatDisplayTime(timerSeconds)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer-control\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"start_stop\",\n        className: \"pomo-btn\",\n        onClick: e => {\n          // audioRefClick.current.play();\n          toggleCountDown();\n        },\n        children: hasStarted ? \"Pause\" : \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"reset\",\n        className: \"pomo-btn\",\n        onClick: () => {\n          // audioRefClick.current.play();\n          handleResetTimer();\n        },\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        id: \"beep\",\n        preload: \"auto\",\n        ref: audioRef,\n        src: \"https://raw.githubusercontent.com/freeCodeCamp/cdn/master/build/testable-projects-fcc/audio/BeepSound.wav\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s(PomodoroTimer, \"etyAW6vdZaYUa7mJrQ+TQAqswUQ=\");\n_c = PomodoroTimer;\nvar _c;\n$RefreshReg$(_c, \"PomodoroTimer\");","map":{"version":3,"names":["useState","useEffect","useRef","jsxDEV","_jsxDEV","PomodoroTimer","_s","sessionLength","setSessionLength","breakLength","setBreakLength","timer","setTimer","timerMinutes","setTimerMinutes","timerSeconds","setTimerSeconds","timerIntervalId","setTimerIntervalId","isSession","setIsSession","sessionType","setSessionType","audioRef","audioRefClick","hasStarted","current","play","time","secondsToTime","toggleCountDown","clearInterval","newIntervalId","setInterval","prevTime","newTime","seconds","Math","floor","formatDisplayTime","handleBreakLengthChange","e","target","id","prevVal","handleSessionLengthChange","handleResetTimer","_audioRef$current","load","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","preload","ref","src","_c","$RefreshReg$"],"sources":["/Users/dini/Desktop/productivity-workspace/frontend/src/components/PomodoroTimer.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport \"./css/PomodoroTimer.css\";\n\nexport default function PomodoroTimer() {\n  const [sessionLength, setSessionLength] = useState(1500);\n  const [breakLength, setBreakLength] = useState(300);\n\n  const [timer, setTimer] = useState(1500);\n  const [timerMinutes, setTimerMinutes] = useState(\"00\");\n  const [timerSeconds, setTimerSeconds] = useState(\"00\");\n  const [timerIntervalId, setTimerIntervalId] = useState(null);\n  const [isSession, setIsSession] = useState(false);\n  const [sessionType, setSessionType] = useState(\"Session\");\n\n  const audioRef = useRef();\n  const audioRefClick = useRef();\n  let hasStarted = timerIntervalId !== null; // check timer state\n\n  // // update timer display\n  useEffect(() => {\n    if (timer === 0) {\n      audioRef.current.play();\n      if (sessionType === \"Session\") {\n        setSessionType(\"Break\");\n        setTimer(breakLength);\n      } else {\n        setSessionType(\"Session\");\n        setTimer(sessionLength);\n      }\n    }\n  }, [timer, sessionType]);\n\n  useEffect(() => {\n    setTimer(sessionLength);\n  }, [sessionLength]);\n\n  useEffect(() => {\n    let time = secondsToTime(timer);\n    setTimerMinutes(time[0]);\n    setTimerSeconds(time[1]);\n  }, [timer]);\n\n  function toggleCountDown() {\n    if (hasStarted) {\n      // started mode\n      if (timerIntervalId) {\n        clearInterval(timerIntervalId);\n      }\n      setTimerIntervalId(null);\n    } else {\n      // stopped mode\n      // create accurate date timer with date\n      const newIntervalId = setInterval(() => {\n        setTimer(prevTime => {\n          let newTime = prevTime - 1;\n          let time = secondsToTime(newTime);\n          setTimerMinutes(time[0]);\n          setTimerSeconds(time[1]);\n          return newTime;\n        });\n      }, 1000);\n      setTimerIntervalId(newIntervalId);\n    }\n  }\n\n  // return minutes and seconds of seconds\n  function secondsToTime(seconds) {\n    return [Math.floor(seconds / 60), seconds % 60];\n  }\n\n  // zero paddings if < 10\n  function formatDisplayTime(time) {\n    if (time < 10) {\n      return `0${time}`;\n    } else {\n      return time;\n    }\n  }\n\n  function handleBreakLengthChange(e) {\n    if (hasStarted) return; // guard against change when running\n\n    if (e.target.id === \"break-decrement\" && breakLength > 60) {\n      setBreakLength(prevVal => prevVal - 60);\n    } else if (e.target.id === \"break-increment\" && breakLength < 3600) {\n      setBreakLength(prevVal => prevVal + 60);\n    }\n  }\n\n  function handleSessionLengthChange(e) {\n    if (hasStarted) return; // guard against change when running\n\n    if (e.target.id === \"session-decrement\" && sessionLength > 60) {\n      setSessionLength(prevVal => prevVal - 60);\n    } else if (e.target.id === \"session-increment\" && sessionLength < 3600) {\n      setSessionLength(prevVal => prevVal + 60);\n    }\n  }\n\n  function handleResetTimer() {\n    audioRef?.current?.load();\n    if (timerIntervalId) {\n      clearInterval(timerIntervalId);\n    }\n    setTimerIntervalId(null);\n    setSessionLength(1500);\n    setBreakLength(300);\n    setSessionType(\"Session\");\n    setTimer(1500);\n  }\n\n  return (\n    <div className=\"Pomodoro\">\n      <h2>Pomodoro Timer</h2>\n      {/* Controls */}\n      {/* <div className=\"length-controls\">\n            <div className=\"length-control\">\n              <p id=\"break-label\">Break Length</p>\n              <div className=\"length-control-btns\">\n                <button id=\"break-decrement\" onClick={e => handleBreakLengthChange(e)}>\n                  &lt;\n                </button>\n                <div id=\"break-length\">{Math.floor(breakLength / 60)}</div>\n                <button id=\"break-increment\" onClick={e => handleBreakLengthChange(e)}>\n                  &gt;\n                </button>\n              </div>\n            </div>\n\n            <div className=\"length-control\">\n              <p id=\"session-label\">Session Length</p>\n              <div className=\"length-control-btns\">\n                <button id=\"session-decrement\" onClick={e => handleSessionLengthChange(e)}>\n                  &lt;\n                </button>\n                <div id=\"session-length\">{sessionLength / 60}</div>\n                <button id=\"session-increment\" onClick={e => handleSessionLengthChange(e)}>\n                  &gt;\n                </button>\n              </div>\n            </div>\n          </div> */}\n\n      {/* Timer */}\n      <div className=\"timer\">\n        {/* <p id=\"timer-label\">{sessionType}</p> */}\n        <div id=\"time-left\">\n          {formatDisplayTime(timerMinutes)}:{formatDisplayTime(timerSeconds)}\n        </div>\n      </div>\n\n      <div className=\"timer-control\">\n        <button\n          id=\"start_stop\"\n          className=\"pomo-btn\"\n          onClick={e => {\n            // audioRefClick.current.play();\n            toggleCountDown();\n          }}\n        >\n          {hasStarted ? \"Pause\" : \"Start\"}\n        </button>\n        <button\n          id=\"reset\"\n          className=\"pomo-btn\"\n          onClick={() => {\n            // audioRefClick.current.play();\n            handleResetTimer();\n          }}\n        >\n          Reset\n        </button>\n        {/* <audio id=\"click\" preload=\"auto\" ref={audioRefClick} src=\"https://www.myinstants.com/en/instant/button-click-93467/?utm_source=copy&utm_medium=share\" /> */}\n        <audio id=\"beep\" preload=\"auto\" ref={audioRef} src=\"https://raw.githubusercontent.com/freeCodeCamp/cdn/master/build/testable-projects-fcc/audio/BeepSound.wav\" />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}