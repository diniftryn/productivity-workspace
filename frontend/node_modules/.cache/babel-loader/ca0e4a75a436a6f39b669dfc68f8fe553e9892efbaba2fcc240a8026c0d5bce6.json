{"ast":null,"code":"import React,{useEffect}from\"react\";import{useTasksContext}from\"../hooks/useTasksContext\";import{useAuthContext}from\"../hooks/useAuthContext\";import TaskListItem from\"./TaskListItem\";import SortableTaskList from\"./SortableTaskList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const TaskList=()=>{const{tasks,dispatch}=useTasksContext();const{user}=useAuthContext();useEffect(()=>{const fetchTasks=async()=>{const response=await fetch(\"https://productivity-workspace-d73580ee4fe9.herokuapp.com/api/tasks\",{headers:{Authorization:\"Bearer \".concat(user.token)}});const json=await response.json();if(!response.ok){console.log(json.error);}if(response.ok){dispatch({type:\"SET_TASKS\",payload:json});}};if(user){fetchTasks();}},[dispatch,user]);function setTasks(){dispatch({type:\"SET_TASKS\",payload:tasks});}// return <div>{tasks && tasks.map(task => <TaskListItem key={task._id} task={task} />)}</div>;\nreturn/*#__PURE__*/_jsx(_Fragment,{children:tasks&&/*#__PURE__*/_jsx(SortableTaskList,{className:\"list\",value:tasks,taskListItem:TaskListItem,onChange:setTasks})});};export default TaskList;","map":{"version":3,"names":["React","useEffect","useTasksContext","useAuthContext","TaskListItem","SortableTaskList","jsx","_jsx","Fragment","_Fragment","TaskList","tasks","dispatch","user","fetchTasks","response","fetch","headers","Authorization","concat","token","json","ok","console","log","error","type","payload","setTasks","children","className","value","taskListItem","onChange"],"sources":["/Users/dini/Desktop/productivity-workspace/frontend/src/components/TaskList.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useTasksContext } from \"../hooks/useTasksContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport TaskListItem from \"./TaskListItem\";\nimport SortableTaskList from \"./SortableTaskList\";\n\nconst TaskList = () => {\n  const { tasks, dispatch } = useTasksContext();\n  const { user } = useAuthContext();\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      const response = await fetch(\"https://productivity-workspace-d73580ee4fe9.herokuapp.com/api/tasks\", {\n        headers: { Authorization: `Bearer ${user.token}` }\n      });\n      const json = await response.json();\n\n      if (!response.ok) {\n        console.log(json.error);\n      }\n      if (response.ok) {\n        dispatch({ type: \"SET_TASKS\", payload: json });\n      }\n    };\n\n    if (user) {\n      fetchTasks();\n    }\n  }, [dispatch, user]);\n  function setTasks() {\n    dispatch({ type: \"SET_TASKS\", payload: tasks });\n  }\n\n  // return <div>{tasks && tasks.map(task => <TaskListItem key={task._id} task={task} />)}</div>;\n  return <>{tasks && <SortableTaskList className=\"list\" value={tasks} taskListItem={TaskListItem} onChange={setTasks} />}</>;\n};\n\nexport default TaskList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,eAAe,KAAQ,0BAA0B,CAC1D,OAASC,cAAc,KAAQ,yBAAyB,CACxD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAGV,eAAe,CAAC,CAAC,CAC7C,KAAM,CAAEW,IAAK,CAAC,CAAGV,cAAc,CAAC,CAAC,CAEjCF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,qEAAqE,CAAE,CAClGC,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYN,IAAI,CAACO,KAAK,CAAG,CACnD,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACM,IAAI,CAAC,CAAC,CAElC,GAAI,CAACN,QAAQ,CAACO,EAAE,CAAE,CAChBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACI,KAAK,CAAC,CACzB,CACA,GAAIV,QAAQ,CAACO,EAAE,CAAE,CACfV,QAAQ,CAAC,CAAEc,IAAI,CAAE,WAAW,CAAEC,OAAO,CAAEN,IAAK,CAAC,CAAC,CAChD,CACF,CAAC,CAED,GAAIR,IAAI,CAAE,CACRC,UAAU,CAAC,CAAC,CACd,CACF,CAAC,CAAE,CAACF,QAAQ,CAAEC,IAAI,CAAC,CAAC,CACpB,QAAS,CAAAe,QAAQA,CAAA,CAAG,CAClBhB,QAAQ,CAAC,CAAEc,IAAI,CAAE,WAAW,CAAEC,OAAO,CAAEhB,KAAM,CAAC,CAAC,CACjD,CAEA;AACA,mBAAOJ,IAAA,CAAAE,SAAA,EAAAoB,QAAA,CAAGlB,KAAK,eAAIJ,IAAA,CAACF,gBAAgB,EAACyB,SAAS,CAAC,MAAM,CAACC,KAAK,CAAEpB,KAAM,CAACqB,YAAY,CAAE5B,YAAa,CAAC6B,QAAQ,CAAEL,QAAS,CAAE,CAAC,CAAG,CAAC,CAC5H,CAAC,CAED,cAAe,CAAAlB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}